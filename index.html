<!doctype html>
<html>
<head>
<link rel="shortcut icon" href="./favicon.ico">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link rel="shortcut icon" href="favicon.ico">
<title>GitHub PagesでHPを公開する試み</title>

<script type="text/javascript" src="./js/muni.js"></script>
<link rel='stylesheet' type='text/css' href='./css/common.css'>

</head>


<body>
<h1>今日どこに行く？</h1>
<p class="top">質問と乱数から、行き先を提案します！</p>

<div id='menu'>
  <form name="question">
       <p class="question">Q1.犬派？猫派？</p>
       <label><input type='radio' name='q1' value=1 checked>犬</label>
       <label><input type='radio' name='q1' value=2>猫</label>
       
       <p class="question">Q2.セロリ派？パセリ派？</p>
       <label><input type='radio' name='q2' value=1 checked>セロリ</label>
       <label><input type='radio' name='q2' value=2>パセリ</label>
       
       <p class="question">Q3.スイカ派？メロン派？</p>
       <label><input type='radio' name='q3' value=1 checked>スイカ</label>
       <label><input type='radio' name='q3' value=2>メロン</label>

       <p class="question">Q4.今の気分は？</p>
       <label><input type='radio' name='q4' value=1 checked>喜</label>
       <label><input type='radio' name='q4' value=2>怒</label>
       <label><input type='radio' name='q4' value=3>哀</label>
       <label><input type='radio' name='q4' value=4>楽</label>

       <p class="question">Q5.好きな花は？</p>
       <label><input type='radio' name='q5' value=1 checked>さくら</label>
       <label><input type='radio' name='q5' value=2>あじさい</label>
       <label><input type='radio' name='q5' value=3>ひまわり</label>
       <label><input type='radio' name='q5' value=4>あさがお</label>
       <label><input type='radio' name='q5' value=5>たんぽぽ</label>
  </form>
</div>

<p>お疲れさまでした</p>
<input type="button" value="診断" onclick="showResult()">
<p>↑なかなか乱数がうまく出ないので、何度かお試しください。</p>
<!--
<input type="button" value="クリア" onclick="switchCollisionBoxes()">
-->
<div id="answer" style="border-left: solid 5px #318000;padding: 0.5em;"></div>
<div id="answerStock" style="padding: 0.5em;"></div>


<script>
var answerTextContent="";

function showResult(){

  var a1 = parseInt( document.question.q1.value );
  var a2 = parseInt( document.question.q2.value );
  var a3 = parseInt( document.question.q3.value );
  var a4 = parseInt( document.question.q4.value );
  var a5 = parseInt( document.question.q5.value );
  
  
  a1 = Math.ceil( (Math.random() * 4.5) + 4.5 * (a1 - 1 ) ) ;
  a2 = Math.ceil( (Math.random() * 4.5) + 4.5 * (a2 - 1 ) ) ;
  a3 = Math.ceil( (Math.random() * 4.5) + 4.5 * (a3 - 1 ) ) ;
  a4 = Math.ceil( (Math.random() * 2.25) + 2.25 * (a4 - 1 ) ) ;
  a5 = a5 - 1 ;
  
  var magicNumber = a1 + 10 * a2 + 100 * a3 + 1000 * a4 + 10000 * a5;
  magicNumber = magicNumber.toString(10);
  
  console.log(magicNumber);
  console.log(a1 + "," + a2 + "," + a3 + "," + a4 + "," + a5);
  
  var answerText = document.getElementById("answer");
  var answerStock = document.getElementById("answerStock");
  
  if(MUNI_ARRAY[magicNumber]){
     answerPlace = MUNI_ARRAY[magicNumber];
     answerText.innerHTML = '<span style="color:#FF0000;">' + answerPlace + '</span>' + "とかどうですか？";
     answerStock.innerHTML = '直前の提案：<span style="color:#FF0000;">' + answerPlace + '</span>' + '<br>';
  }else{
     answerText.innerHTML = "良い案が思い浮かびませんでした。もう1回、「診断」ボタンを押してください。";
  }
  
}
</script>
</body>

</html>
